<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:WowFontManager.ViewModels"
        x:Class="WowFontManager.Views.FontReplacementConfirmationDialog"
        x:DataType="vm:FontReplacementConfirmationViewModel"
        Title="Confirm Font Replacement"
        Width="700"
        Height="500"
        MinWidth="600"
        MinHeight="400"
        WindowStartupLocation="CenterOwner"
        CanResize="True">

    <Design.DataContext>
        <vm:FontReplacementConfirmationViewModel/>
    </Design.DataContext>

    <Window.Styles>
        <Style Selector="TextBlock.header">
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,0,0,5"/>
        </Style>
        <Style Selector="TextBlock.value">
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>
    </Window.Styles>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header Information -->
        <StackPanel Grid.Row="0" Spacing="5">
            <TextBlock Classes="header" Text="Source Font:"/>
            <TextBlock Classes="value" Text="{Binding SourceFontName}"/>
            
            <TextBlock Classes="header" Text="Source Path:"/>
            <TextBlock Classes="value" Text="{Binding SourceFontPath}" FontSize="11" Foreground="Gray"/>
            
            <TextBlock Classes="header" Text="Target Client:"/>
            <TextBlock Classes="value" Text="{Binding TargetClientInfo}"/>
            
            <TextBlock Classes="header" Text="Target Path:"/>
            <TextBlock Classes="value" Text="{Binding TargetPath}" FontSize="11" Foreground="Gray"/>
            
            <TextBlock Classes="header" Text="Backup Location:"/>
            <TextBlock Classes="value" Text="{Binding BackupLocation}" FontSize="11" Foreground="Gray"/>
            
            <Separator Margin="0,10"/>
            
            <TextBlock Classes="header" Text="The following operations will be performed:"/>
        </StackPanel>

        <!-- Command Preview List -->
        <Border Grid.Row="1" 
                BorderBrush="Gray" 
                BorderThickness="1" 
                CornerRadius="4"
                Margin="0,10,0,10">
            <ScrollViewer>
                <ItemsControl ItemsSource="{Binding CommandPreview}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding}" 
                                     FontFamily="Consolas,Courier New,monospace" 
                                     FontSize="11"
                                     Margin="5,2"
                                     TextWrapping="Wrap"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Spacing="10">
            <Button Content="Replace Fonts" 
                    Command="{Binding ConfirmCommand}"
                    Click="OnConfirmClick"
                    Classes="accent"
                    MinWidth="120"
                    Padding="10,5"/>
            <Button Content="Cancel" 
                    Command="{Binding CancelCommand}"
                    Click="OnCancelClick"
                    MinWidth="120"
                    Padding="10,5"/>
        </StackPanel>
    </Grid>
</Window>
